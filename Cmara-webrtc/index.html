<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script src="Camara-component.js"></script>
</head>
<body>
    <!-- La escena de A-Frame -->
    <a-scene id="aframe-scene" style="display: none;">
        <a-box id="video-box" position="0 1.5 -3" rotation="0 45 0" width="4" height="2"></a-box>
    </a-scene>

    <script>
      // Preguntar al usuario el rol: transmisor o receptor
      window.onload = function () {
          const role = prompt("¿Quieres ser el transmisor (t) o el receptor (r)? Introduce 't' para transmisor o 'r' para receptor.");

          // Seleccionar el elemento de la escena
          const scene = document.getElementById('aframe-scene');

          // Mostrar la escena solo cuando se seleccione un rol válido
          if (role === 't' || role === 'r') {
              // Mostrar la escena de A-Frame
              scene.style.display = "block";

              if (role === 't') {
                  // Empezar como transmisor
                  document.querySelector('a-box').setAttribute('camera-canvas-texture', 'role: transmitter');
              } else if (role === 'r') {
                  // Empezar como receptor
                  document.querySelector('a-box').setAttribute('camera-canvas-texture', 'role: receiver');
              }
          } else {
              alert("Opción inválida. Recarga la página e introduce 't' o 'r'.");
          }
      };
    </script>
</body>
</html>
